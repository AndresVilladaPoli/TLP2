<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">Crear Publicación</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
    <header>
        <!-- Banner con carrusel de imágenes -->
        <div class="banner">
            <div class="carousel">
                <img th:each="image : ${carouselImages}" 
                     th:src="@{/images/{image}(image=${image})}" 
                     class="carousel-image" 
                     alt="Imagen de carrusel">
            </div>
            <h1 th:text="${title}">Crear Publicación</h1>
        </div>


                <!-- Navegación -->
                <nav class="navbar">
                    <ul>
                        <li><a th:href="@{/}">Publicaciones</a></li>
                        <li><a th:href="@{/}">Mis Publicaciones</a></li>
                        <li><a th:href="@{/crear}">Crear Publicación</a></li>
                        <li><a th:href="@{/miPerfil}">Mi Perfil</a></li>
                        <li><a th:href="@{/logout}">Cerrar sesión</a></li>
                    </ul>
                </nav>
            </header>
        
            <main>
                <div class="content">
                    <h2>Crear una nueva publicación</h2>
                    <form action="#" method="POST" class="publication-form">
                        <div class="form-group">
                            <label for="title">Título:</label>
                            <input type="text" id="title" name="title" placeholder="Ingrese el título de la publicación" required>
                        </div>
        
                        <div class="form-group">
                            <label for="description">Descripción:</label>
                            <textarea id="description" name="description" placeholder="Escriba una descripción para la publicación" required></textarea>
                        </div>
        
                        <div class="form-group">
                            <label for="category">Categoría:</label>
                            <select id="category" name="category" required>
                                <option value="venta">Venta</option>
                                <option value="intercambio">Intercambio</option>
                                <option value="servicio">Servicio</option>
                            </select>
                        </div>
        
                        <div class="form-group">
                            <label for="image">Imagen:</label>
                            <input type="file" id="image" name="image" accept="image/*">
                        </div>
        
                        <button type="submit" class="btn">Publicar</button>
                    </form>
                </div>
            </main>
        
            <!-- Script para el carrusel de imágenes -->
            <script>
                let currentImageIndex = 0;
                const images = document.querySelectorAll(".carousel-image");
                const totalImages = images.length;
        
                function showNextImage() {
                    images[currentImageIndex].style.display = "none"; // Oculta la imagen actual
                    currentImageIndex = (currentImageIndex + 1) % totalImages; // Cambia al siguiente índice
                    images[currentImageIndex].style.display = "block"; // Muestra la nueva imagen
                }
        
                // Muestra solo la primera imagen al cargar
                images.forEach((img, index) => img.style.display = index === 0 ? "block" : "none");
        
                // Cambia de imagen cada 3 segundos
                setInterval(showNextImage, 3000);
            </script>
        </body>
        </html>